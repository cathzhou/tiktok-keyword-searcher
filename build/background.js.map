{"version":3,"file":"background.js","mappings":";;;;;;AAAa;;AAEb;AACA,UAAU,eAAe;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC,qBAAqB,kCAAkC;AACvD,yCAAyC,2CAA2C;AACpF,GAAG;AACH;;AAEA;AACA,6BAA6B,WAAW;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B,6BAA6B;AAC3D,uBAAuB,kCAAkC;AACzD,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,gCAAgC,uDAAuD;AACvF;AACA,CAAC,E","sources":["webpack://tiktok_searcher_sp/./src/background.js"],"sourcesContent":["'use strict';\n\nchrome.runtime.onMessage.addListener(data => {\n  const { event, query } = data;\n  switch (event) {\n      case 'searchButtonClicked':\n          handleOnSearch(query);\n          break;\n      case 'cancelButtonClicked':\n          handleOnCancel();\n          break;\n      default:\n          break;\n  }\n\n})\n\nconst handleOnSearch = (query) => {\n  console.log(\"Search button clicked in background\");\n  console.log(\"Query recieved:\", query);\n  setRunningStatus(true);\n  chrome.storage.local.set({query: query});\n  chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\n    chrome.tabs.sendMessage(tabs[0].id, {event: 'searchButtonClicked', query: query});\n  });\n}\n\nconst setRunningStatus = (isRunning) => {\n  chrome.storage.local.set({ isRunning })\n}\n\nconst handleOnCancel = () => {\n  console.log(\"Cancel button clicked in background\");\n  setRunningStatus(false);\n}\n\nchrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {\n  if (request.event === \"openSidePanel\") {\n    console.log(\"Side panel content update\");\n    console.log(\"Documents:\", request.documents)\n    chrome.storage.local.set({documents: request.documents})\n    chrome.tabs.query({active: true, currentWindow: true}, function(tabs) {\n      chrome.sidePanel.open({ tabId: tabs[0].id });\n      chrome.sidePanel.setOptions({\n          tabId: tabs[0].id,\n          path: 'sidepanel.html',\n          enabled: true\n      });\n    });\n    setRunningStatus(false);\n    chrome.runtime.sendMessage({event: 'updateSidePanel', documents: request.documents});\n  }\n});"],"names":[],"sourceRoot":""}