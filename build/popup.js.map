{"version":3,"file":"popup.js","mappings":";;;;;;;;;;;AAAA;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;ACNa;;AAEQ;;AAErB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,oCAAoC;AACzE;AACA;;AAEA;AACA;AACA,iCAAiC,8BAA8B;AAC/D;;AAEA;AACA,YAAY,mDAAmD;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,wCAAwC,qDAAqD;AAC7F;AACA;AACA;AACA,CAAC,E","sources":["webpack://tiktok_searcher_sp/./src/popup.css?b447","webpack://tiktok_searcher_sp/webpack/bootstrap","webpack://tiktok_searcher_sp/webpack/runtime/make namespace object","webpack://tiktok_searcher_sp/./src/popup.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\n\nimport './popup.css';\n\n// Elements\nconst startDateElement = document.getElementById('startDate');\nconst endDateElement = document.getElementById('endDate');\nconst keywordsElement = document.getElementById('keywords');\nconst categoryElement = document.getElementById('category');\n\n// Button elements\nconst searchButton = document.getElementById('searchButton');\nconst cancelButton = document.getElementById('cancelButton');\nconst resultsButton = document.getElementById('resultsButton');\n\n// Span listeners\nconst runningSpan = document.getElementById('loadingSpan');\nconst canceledSpan = document.getElementById('canceledSpan');\nconst searchDoneSpan = document.getElementById('searchDoneSpan');\nconst noResultsSpan = document.getElementById('noResultsSpan');\nconst loadingSpan = document.getElementById('loadingSpan');\n\n// Error messages\nconst keywordsError = document.getElementById('keywordsError');\nconst startDateError = document.getElementById('startDateError');\nconst endDateError = document.getElementById('endDateError');\nconst dateRangeError = document.getElementById('dateRangeError');\nconst categoryError = document.getElementById('categoryError');\n\nconst hideElement = (elem) => {\n    elem.style.display = 'none';\n}\n\nconst showElement = (elem) => {\n    elem.style.display = '';\n}\n\nconst disableElement = (elem) => {\n    elem.disabled = true;\n}\n\nconst enableElement = (elem) => {\n    elem.disabled = false;\n}\n\nconst handleOnSearchState = () => {\n    // Spans\n    showElement(runningSpan);\n    hideElement(canceledSpan);\n    hideElement(searchDoneSpan);\n    hideElement(noResultsSpan);\n    hideElement(loadingSpan)\n    hideElement(resultsButton);\n    // Buttons\n    disableElement(searchButton);\n    enableElement(cancelButton);\n    // Inputs\n    disableElement(keywordsElement);\n    disableElement(startDateElement);\n    disableElement(endDateElement);\n    // Errors\n    hideElement(keywordsError);\n    hideElement(startDateError);\n    hideElement(endDateError);\n    hideElement(dateRangeError);\n    hideElement(categoryError);\n}\n\nconst handleOnCancelState = () => {\n    // Spans\n    showElement(canceledSpan);\n    hideElement(runningSpan);\n    hideElement(searchDoneSpan);\n    hideElement(noResultsSpan);\n    hideElement(loadingSpan)\n    hideElement(resultsButton);\n    // Buttons\n    enableElement(searchButton);\n    disableElement(cancelButton);\n    // Inputs\n    enableElement(keywordsElement);\n    enableElement(startDateElement);\n    enableElement(endDateElement);\n    // Errors\n    hideElement(keywordsError);\n    hideElement(startDateError);\n    hideElement(endDateError);\n    hideElement(dateRangeError);\n    hideElement(categoryError);\n}\n\nconst performOnSearchValidations = () => {\n    const noDateCheckbox = document.getElementById('noDateCheckbox');\n\n    if (!keywordsElement.value) {\n        showElement(keywordsError);\n    } else {\n        hideElement(keywordsError);\n    }\n\n    if (!categoryElement.value) {\n        showElement(categoryError);\n    } else {\n        hideElement(categoryError);\n    }\n\n    let datesValid = true;\n    if (!noDateCheckbox.checked) {\n        if (!startDateElement.value) {\n            showElement(startDateError);\n            datesValid = false;\n        } else {\n            hideElement(startDateError);\n        }\n\n        if (!endDateElement.value) {\n            showElement(endDateError);\n            datesValid = false;\n        } else {\n            hideElement(endDateError);\n        }\n\n        const startDate = new Date(startDateElement.value);\n        const endDate = new Date(endDateElement.value);\n        if (startDate >= endDate) {\n            showElement(dateRangeError);\n            datesValid = false;\n        } else {\n            hideElement(dateRangeError);\n        }\n    }\n\n    return keywordsElement.value && (noDateCheckbox.checked || datesValid);\n}\n\ndocument.getElementById('noDateCheckbox').addEventListener('change', function() {\n    if (this.checked) {\n        const startDateElement = document.getElementById('startDate');\n        const endDateElement = document.getElementById('endDate');\n        \n        if (startDateElement && endDateElement) {\n            startDateElement.value = '';\n            endDateElement.value = '';\n        } \n    }\n});\n\nsearchButton.onclick = () => {\n    const allFieldsValid = performOnSearchValidations();\n\n    if (allFieldsValid) {\n        handleOnSearchState();\n        const query = {\n            keywords: keywordsElement.value,\n            startDate: startDateElement.value,\n            endDate: endDateElement.value,\n            category: categoryElement.value\n        }\n        chrome.runtime.sendMessage({ event: 'searchButtonClicked', query});\n    }\n}\n\ncancelButton.onclick = () => {\n    handleOnCancelState();\n    chrome.runtime.sendMessage({ event: 'cancelButtonClicked' });\n}\n\nchrome.storage.local.get([\"keywords\", \"startDate\", \"endDate\", \"category\", \"isRunning\"], (result) => {\n    const { keywords, startDate, endDate, category, isRunning} = result;\n\n    if (keywords) {\n        keywordsElement.value = keywords;\n    }\n    if (startDate) {\n        startDateElement.value = startDate;\n    }\n    if (endDate) {\n        endDateElement.value = endDate;\n    }\n    if (category) {\n        categoryElement.value = category;\n    }\n\n    if (isRunning) {\n        handleOnSearchState();\n    } else {\n        handleOnCancelState();\n    }\n})\n\nchrome.runtime.onMessage.addListener(function(message, sender, sendResponse) {\n    if (message.event === 'noResults') {\n        showElement(noResultsSpan);\n    } else if (message.event === 'resultsFound') {\n        showElement(resultsButton);\n        resultsButton.onclick = () => {\n            chrome.runtime.sendMessage({event: 'openSidePanel', documents: message.documents});\n            window.close();\n        }\n    }\n});"],"names":[],"sourceRoot":""}